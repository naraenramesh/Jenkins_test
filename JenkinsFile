pipeline {
 agent any

 stages{

  stage('Install Dependencies'){
    steps{
      // Install Yarn locally if not installed globally
            sh 'curl -o- -L https://yarnpkg.com/install.sh | bash'
            // Ensure the Yarn binary is available
            sh 'export PATH="$PATH:$HOME/.yarn/bin"'
  sh "yarn install"
            echo "Yarn installed"
  }
  }
  stage('Run Tests'){
    steps{
    sh "yarn test"
    echo "Test results"
    }
  }
 }
}
