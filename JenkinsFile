pipeline {
 agent any

 stages{

  stage('Install Dependencies'){
    steps{
         sh '''
                    curl -o- -L https://yarnpkg.com/install.sh | bash
                    export PATH=$HOME/.yarn/bin:$PATH
                    yarn --version
                    '''
    sh "/root/.nvm/versions/node/v20.11.0/bin/yarn"
            echo "Yarn installed"
  }
  }
  stage('Run Tests'){
    steps{
    sh "/root/.nvm/versions/node/v20.11.0/bin/yarn test"
    echo "Test results"
    }
  }
 }
}
